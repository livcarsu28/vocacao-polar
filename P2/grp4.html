<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/png" href="../img/Teste-vocacional.ico">
    <title>Teste Vocacional</title>
    <link rel="stylesheet" href="style.css"> 
</head>
<body class="bodyQuest">
    <div id="content">
        <!-- O conteúdo da pergunta será inserido pelo JavaScript -->
    </div>

    <script>
        // Função para zerar todas as pontuações no localStorage
        function zerarPontuacoes() {
            localStorage.removeItem('pontuacao4');
            localStorage.removeItem('pontuacao4_pagina_atual');
        }

        // Função para carregar a página inicial
        function carregarPaginaInicial() {
            zerarPontuacoes(); // Zera as pontuações ao carregar a página

            // Define o conteúdo inicial da página
            document.getElementById('content').innerHTML = `
    

                 <div class="container">
                        <div class="card2">
                            <img src="../imgCardPerg/fundoPerg1_grp1.png" alt="Descrição da Imagem" class="card-img">
                            <h3><p class="card2-question">Se você pudesse escolher uma aventura para vivenciar, qual seria?</p></h3>
                        </div>
                        <div class="inputs2">
                            <button class="input alternativa-btn" id="botao-1" onclick="registrarResposta('GRP1'); proximaPergunta(1)">Treinamento de super-heróis: habilidades e trabalho em equipe.</button> 
                            <button class="input alternativa-btn" id="botao-2" onclick="registrarResposta('GRP2'); proximaPergunta(1)">Liderar uma equipe em uma expedição na floresta tropical desconhecida.</button> 
                            <button class="input alternativa-btn" id="botao-3" onclick="registrarResposta('GRP3'); proximaPergunta(1)">Conciliar uma equipe de humanos e alienígenas.</button> 
                            <button class="input alternativa-btn" id="botao-4" onclick="registrarResposta('GRP4'); proximaPergunta(1)">Comandar um exército intergalático contra um outro universo.</button> 
                        </div>
                    </div>
            `;
        }

        // Carrega a página inicial quando o script é carregado
        carregarPaginaInicial();

        // Carrega pontuação existente ou inicializa com valores do Local Storage
        let pontuacao4 = JSON.parse(localStorage.getItem('pontuacao4')) || {
            RH: 0,
            ADM: 0
        };

        // Função para registrar a resposta e atualizar pontuação
        function registrarResposta(resposta) {
            pontuacao4[resposta]++;
            localStorage.setItem('pontuacao4', JSON.stringify(pontuacao4));
            console.log('Pontos Atualizados:', pontuacao4);
        }

        // Função para exibir a próxima pergunta
        function proximaPergunta(pergunta) {
            // Salva a pontuação da página atual no localStorage
            localStorage.setItem('pontuacao4_pagina_atual', JSON.stringify(pontuacao4));

            let nextContent = '';

            if (pergunta === 1) {
                nextContent = `
                 <div class="container">
                    <div class="card2">
                        <img src="../imgCardPerg/fundoPerg2_grp1.png" alt="Descrição da Imagem" class="card-img">
                        <h3><p class="card2-question">Qual dessas empresas você gostaria de criar?</p></h3>
                    </div>
                    <div class="inputs2">
                        <button class="input alternativa-btn" onclick="registrarResposta('RH'); proximaPergunta(2)">Uma consultoria que ajuda empresas a criar ambientes de trabalho mais inclusivos e colaborativos.</button> 
                        <button class="input alternativa-btn" onclick="registrarResposta('ADM'); proximaPergunta(2)">Cooperativa de produção de alimentos orgânicos</button> 
                        <button class="input alternativa-btn" onclick="registrarResposta('RH'); proximaPergunta(2)">Plataforma de Desenvolvimento de Liderança.</button> 
                        <button class="input alternativa-btn" onclick="registrarResposta('ADM'); proximaPergunta(2)">Startup de educação online personalizada</button> 
                    </div>
                    </div>
                `;
            } else if (pergunta === 2) {
                nextContent = `
                <div class="container">
                    <div class="card2">
                        <img src="../imgCardPerg/fundoPerg3_grp1.png" alt="Descrição da Imagem" class="card-img">
                        <h3><p class="card2-question">Qual dessas frases mais te identifica?</p></h3>
                    </div>
                    <div class="inputs2">
                        <button class="input alternativa-btn" onclick="registrarResposta('RH'); proximaPergunta(3)">"Cada pessoa tem um potencial único que merece ser desenvolvido."</button> 
                        <button class="input alternativa-btn" onclick="registrarResposta('ADM'); proximaPergunta(3)">"O sucesso é a melhor vingança."</button> 
                        <button class="input alternativa-btn" onclick="registrarResposta('RH'); proximaPergunta(3)">"Diversidade é a força da inovação."</button> 
                        <button class="input alternativa-btn" onclick="registrarResposta('ADM'); proximaPergunta(3)">"A organização é a chave para o caos."</button> 
                    </div>
                    </div>
                `;
            } else if (pergunta === 3) {
                verificarpontuacao(); // Redireciona para a página final
                return; // Para evitar sobrescrever o conteúdo após o redirecionamento
            }

            document.getElementById('content').innerHTML = nextContent;
        }

        // Função para verificar a pontuação final e redirecionar
            function verificarpontuacao() {
    // Salva a pontuação final no localStorage (já está sendo salvo nas funções anteriores)
    localStorage.setItem('pontuacao4', JSON.stringify(pontuacao4));

    // Redireciona para a página desejada
    window.location.href = '../fruit4/fruitNinja.html'; // Substitua pelo URL correto

        }
    </script>
</body>
</html>
